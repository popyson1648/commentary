(()=>{const e="v0.6.2",a=["/commentary/book.js","/commentary/elasticlunr.min.js","/commentary/manifest.json","/commentary/searcher.js","/commentary/searchindex.js","/commentary/searchindex.json","/commentary/css/style.css","/commentary/apple-touch-icon.png","/commentary/chrome-96x96.png","/commentary/chrome-192x192.png","/commentary/chrome-512x512.png","/commentary/favicon.ico","/commentary/favicon.png","/commentary/fonts/OpenSans-Bold.woff2","/commentary/fonts/OpenSans-BoldItalic.woff2","/commentary/fonts/OpenSans-Italic.woff2","/commentary/fonts/OpenSans-Regular.woff2","/commentary/fonts/SourceCodePro-Medium.woff2","/commentary/fonts/fonts.css","/commentary/fonts/icomoon.woff2","/commentary/fonts/SauceCodePro/SauceCodeProNerdFont-Medium.woff2"],t=["https://coralpink.github.io/","http://127.0.0.1:8080/"],n=async e=>{await caches.delete(e)};self.addEventListener("activate",(a=>{a.waitUntil(clients.claim()),a.waitUntil((async()=>{self.registration.navigationPreload&&await self.registration.navigationPreload.enable()})()),a.waitUntil((async()=>{const a=[e],t=(await caches.keys()).filter((e=>!a.includes(e)));await Promise.all(t.map(n))})())})),self.addEventListener("install",(t=>{self.skipWaiting(),t.waitUntil((async a=>{const t=await caches.open(e);await t.addAll(a)})(a))})),self.addEventListener("fetch",(async a=>{t.forEach((t=>{a.request.url.startsWith(t)&&a.respondWith((async({request:a,preloadResponsePromise:t,fallbackUrl:n})=>{const o=await caches.match(a);if(o)return o;const s=await t,c=async(a,t)=>{const n=await caches.open(e);await n.put(a,t)};if(s)return c(a,s.clone()),s;try{const e=await fetch(a);return c(a,e.clone()),e}catch(e){return await caches.match(n)||new Response("Network error happened",{status:408,headers:{"Content-Type":"text/plain"}})}})({request:a.request,preloadResponsePromise:a.preloadResponse,fallbackUrl:"/commentary/maskable_icon_x96.png"}))}))}))})();