<!DOCTYPE HTML>
<html lang="ja" class="sidebar-visible no-js latte">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Commentary</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./theme/catppuccin.css">
        <link rel="stylesheet" href="./theme/catppuccin-highlight.css">
        <link rel="stylesheet" href="./mdbook-admonish.css">
        <link rel="stylesheet" href="./theme/override.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "macchiato" : "latte";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">WezTerm</li><li class="chapter-item expanded "><a href="wezterm/installation.html"><strong aria-hidden="true">2.</strong> installation</a></li><li class="chapter-item expanded "><a href="wezterm/base.html"><strong aria-hidden="true">3.</strong> Base Settings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="wezterm/window.html"><strong aria-hidden="true">3.1.</strong> Window</a></li><li class="chapter-item expanded "><a href="wezterm/shell.html"><strong aria-hidden="true">3.2.</strong> Shell Prompt</a></li><li class="chapter-item expanded "><a href="wezterm/font.html"><strong aria-hidden="true">3.3.</strong> Font</a></li><li class="chapter-item expanded "><a href="wezterm/frame.html"><strong aria-hidden="true">3.4.</strong> Window Frame</a></li><li class="chapter-item expanded "><a href="wezterm/keybind.html"><strong aria-hidden="true">3.5.</strong> Key Binding</a></li><li class="chapter-item expanded "><a href="wezterm/leader.html"><strong aria-hidden="true">3.6.</strong> Leader Key</a></li></ol></li><li class="chapter-item expanded "><a href="wezterm/format.html"><strong aria-hidden="true">4.</strong> Format</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="wezterm/window-title.html"><strong aria-hidden="true">4.1.</strong> Window Title</a></li><li class="chapter-item expanded "><a href="wezterm/tab.html"><strong aria-hidden="true">4.2.</strong> Tab</a></li></ol></li><li class="chapter-item expanded "><a href="wezterm/status.html"><strong aria-hidden="true">5.</strong> Status Bar</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="wezterm/left-status.html"><strong aria-hidden="true">5.1.</strong> Left Status</a></li><li class="chapter-item expanded "><a href="wezterm/right-status.html"><strong aria-hidden="true">5.2.</strong> Right Status</a></li></ol></li><li class="chapter-item expanded "><a href="wezterm/custom.html"><strong aria-hidden="true">6.</strong> Custom Event</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="wezterm/toggle-font.html"><strong aria-hidden="true">6.1.</strong> Toggle Font</a></li><li class="chapter-item expanded "><a href="wezterm/dpi-detection.html"><strong aria-hidden="true">6.2.</strong> DPI Detection</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Neovim</li><li class="chapter-item expanded affix "><li class="part-title">...To Be Continued</li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                        <!--
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        -->
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappé</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Commentary</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/CoralPink/commentary" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>このページでは、わたしが普段使っているターミナル環境を元にした設定例を紹介しています。</p>
<p><img src="goal.png" alt="goal.png" /></p>
<p><em>Screenshot of wezterm on macOS, running neovim</em>.</p>
<p>全ての設定を網羅しているわけではなく、あくまで自分で使っている設定に対しての解説です。</p>
<p>見てくれた人のヒントになったり、何かの役に立ったりしたら嬉しいです。</p>
<pre><code class="language-admonish info title=&quot;このサイトが想定している読者&quot;">一つの目安として、`homebrew` などのパッケージ管理操作ができる程度を想定しています。

`WezTerm`の設定については、ほぼ`lua`ファイルの編集で完結するため、ターミナルコマンドを使う場面は限られていますし、
コマンドの例示も全て行っているつもりではありますが、
それでもコマンドを使って操作したことがない場合はやはり怖いです。

逆に、ファイルの編集自体は`vim`などのターミナル上で動くソフトウェアではなく、`Xcode`や`Visual Studio Code`などでも構いません。
これについては`3.Base Settings`で示します。
</code></pre>
<pre><code class="language-admonish warning">わたしの使用している環境が`macOS`なので、説明やイメージもこれを使用しています。

必要なソフトウェアと設定さえ整っていれば 他の OS でも通用するはずですが、
100% 自信を持っているわけではないので、その点ご了承ください。
</code></pre>
<h2 id="thanks"><a class="header" href="#thanks">Thanks</a></h2>
<p>Thanks to application developers!!
I enjoy using it💓</p>
<p><a href="https://wezfurlong.org/wezterm/">WezTerm - Wez's Terminal Emulator</a></p>
<p><a href="https://neovim.io">Neovim - hyperextensible Vim-based text editor</a></p>
<p>And thanks to the developers of the applications used to create this website🤗</p>
<p><a href="https://rust-lang.github.io/mdBook/">mdBook</a></p>
<p><a href="https://github.com/catppuccin/mdbook">Catppuccin for mdBook</a></p>
<p><a href="https://github.com/tommilligan/mdbook-admonish">mdbook-admonish</a></p>
<p><a href="https://www.deepl.com/translator">DeepL</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>まずは<code>WezTerm</code>です。</p>
<p>インストールは<code>homebrew</code>などのパッケージ管理システムや、ホームページ上で提供されている実行ファイルをダウンロードする方法があります。</p>
<pre><code class="language-admonish note title=&quot;[Install - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/installation.html)&quot;">WezTerm is available pre-built for the major platforms and, because it is open source, you may also build it for yourself.

WezTermは主要なプラットフォーム用にあらかじめビルドされていますが、オープンソースであるため、自分でビルドすることも可能です。
</code></pre>
<p>環境に合わせて、好きな方法でインストールしてください。</p>
<p>では、起動してみましょう。(ユーザー名だけちょっと雑に隠しますが気にしないでください。)</p>
<p><img src="wezterm/img/initial.png" alt="initial.heic" /></p>
<pre><code class="language-admonish success">動きましたね。
まだまだ味気ないですが、設定を重ねていくと面白みが増してきます。

少し補足すると、上のスクリーンショットは`WezTerm`上で`zsh`が動いている状態です。
シェルの設定なども含め、まだ何もいじっていない状態であればこんな感じになると思います[^unix]。

では、次から`WezTerm`の設定を行なっていきましょう。
</code></pre>
<div class="footnote-definition" id="unix"><sup class="footnote-definition-label">1</sup>
<p>Unix だと<code>bash</code>が動いているでしょうか。</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="base-settings"><a class="header" href="#base-settings">Base Settings</a></h1>
<p>特に難しいことを考えずに ホームフォルダに <code>.wezterm.lua</code> を置いても良いのですが、
後々ファイルを複数配置していくので、<code>$HOME/.config/wezterm</code>というディレクトリを作って、そこに <code>wezterm.lua</code> を置くほうがおすすめです。</p>
<p>以下のようにしてみましょう。</p>
<pre><code class="language-admonish example title=&quot;$HOME/.config/wezterm/wezterm.lua&quot;">```lua
return {

}
```
</code></pre>
<pre><code class="language-admonish success">最初はこんなものです。できたら次のページへ進みましょう。
</code></pre>
<p>もし、手順が必要なら下へ。</p>
<h2 id="手順"><a class="header" href="#手順">手順</a></h2>
<p>以下のコマンドを順に実行してください。</p>
<pre><code class="language-admonish quote title=&quot;ディレクトリを作る&quot;">```sh
mkdir -p ~/.config/wezterm
```
</code></pre>
<pre><code class="language-admonish quote title=&quot;テキストを編集する(以下の例では`vim`を使用)&quot;">```sh
vim ~/.config/wezterm/wezterm.lua
```
</code></pre>
<pre><code class="language-admonish info title=&quot;GUI のエディタを使う場合&quot;">GUI のエディタを使用したい場合は以下で出来ます。`lua`ファイルに関連付けられたアプリケーションが起動するはずです。

ファイルを作る:
```sh
touch ~/.config/wezterm/wezterm.lua
```

ファイルを開く:
```
open ~/.config/wezterm/wezterm.lua
```

もし、こんなのが出てきたら

![no-app.png](img/no-app.png)

普段使っているエディタを選びましょう。

`Xcode`や`Visual Studio Code`などでもいけるはずです。
![select-app.png](img/select-app.png)
</code></pre>
<pre><code class="language-admonish success">できましたね!! それでは次のページへ進みましょう。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="window"><a class="header" href="#window">Window</a></h1>
<p>ここではウィンドウの設定を行なっていきます。</p>
<h2 id="color-schemes"><a class="header" href="#color-schemes">Color Schemes</a></h2>
<p>Wezterm では数多くのカラースキームを内蔵しているため、簡単に設定が可能です。</p>
<p>以下から好きなカラースキームを選んで指定します。</p>
<pre><code class="language-admonish note title=&quot;[Color Schemes](https://wezfurlong.org/wezterm/colorschemes/index.html)&quot;">735 Color schemes listed by first letter

735[^a]種類のカラースキーム一覧
</code></pre>
<p>お気に入りのカラースキームは見つかりましたか？</p>
<p>わたしは<code>Catppuccin Mocha</code>を愛用しているので、以下のようになりました。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
color_scheme = 'Catppuccin Mocha',
```
</code></pre>
<pre><code class="language-admonish info">ちなみに、このWebページのカラースキームも`Catppuccin`を使ってたりします。
左上のブラシマークから4種類のテーマを変えられるのでお好みで切り替えてみてください。
</code></pre>
<h2 id="window_background_opacity"><a class="header" href="#window_background_opacity">window_background_opacity</a></h2>
<pre><code class="language-admonish note title=&quot;[Colors &amp; Appearance - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/config/appearance.html#window-background-opacity)&quot;">If your Operating System provides Compositing support then WezTerm is able to specify the alpha channel value for the background content

オペレーティングシステムがコンポジットをサポートしている場合、WezTerm は背景コンテンツのアルファチャンネル値を指定することができます。
</code></pre>
<p>アルファチャンネル値には 0.0 から 1.0 までの値を用います。</p>
<p>透過値はお好みで。わたしはこんな感じで。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
window_background_opacity = 0.93,
```
</code></pre>
<h2 id="一旦確認"><a class="header" href="#一旦確認">一旦確認…</a></h2>
<p>さて、ここまでで wezterm.lua は以下のようになりました。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
return {
	color_scheme = &quot;Catppuccin Mocha&quot;,
	window_background_opacity = 0.93,
}
```
</code></pre>
<pre><code class="language-admonish warning">return {} の中に記述します。
</code></pre>
<p><img src="wezterm/img/opacity.png" alt="opacity.png" /></p>
<pre><code class="language-admonish success">カラースキームは白文字しかない状態だと「ちょっと何言ってるかわかんない」ですが、透過については確認できましたね。

次は、せっかく設定したカラースキームを見たいので、少し脇に逸れてプロンプトを変えてみましょう。
</code></pre>
<div class="footnote-definition" id="a"><sup class="footnote-definition-label">1</sup>
<p>2022/09/23時点</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="shell-prompt"><a class="header" href="#shell-prompt">Shell Prompt</a></h1>
<p><code>WezTerm</code>の設定からは少し逸れますが、先にシェルプロンプトのカスタマイズをやってしまいましょう。</p>
<h2 id="starship"><a class="header" href="#starship">Starship</a></h2>
<p>技術系サイトを見ていると、こぞって紹介されている感のある<code>StarShip</code>です。</p>
<p>まあ、これは紹介したくなりますよね〜。導入が簡単なのに綺麗だし🥴</p>
<pre><code class="language-admonish note title=&quot;[StarShip Cross-Shell Prompt](https://starship.rs/)&quot;">The minimal, blazing-fast, and infinitely customizable prompt for any shell!

あらゆるシェルのための、最小限の、高速な、そして無限にカスタマイズ可能なプロンプト!
</code></pre>
<p>ページ内の Get Started からインストール方法が確認できます。</p>
<p>覗いてみると</p>
<pre><code>Prerequisites
- A Nerd Font installed and enabled in your terminal.

前提条件
- Nerd Fontがインストールされ、端末で有効になっていること。
</code></pre>
<p>と書いてありますね。</p>
<p>本来なら「なんかめんどくさそうだな〜」となるところですが...、</p>
<p>なんと❗️<code>WezTerm</code>は既に<code>Nerd Font Symbols Font</code>を持っています❗️</p>
<pre><code class="language-admonish note title=&quot;[wezterm.nerdfonts](https://wezfurlong.org/wezterm/config/lua/wezterm/nerdfonts.html)&quot;">WezTerm includes Nerd Font Symbols Font as a default font fallback which means that these
special symbols are available even without requiring you to use a patched font.

WezTerm は Nerd Font Symbols Font をデフォルトのフォントのフォールバックとして含んでおり、
これはパッチされたフォントを使わなくてもこれらの特殊記号が利用可能であることを意味します。
</code></pre>
<p>...とのことなので安心してください。入ってますよ。☺️</p>
<p>とは言いつつ、わたしは別のフォントを使っているので<code>3.3 Font</code>で紹介したいな〜と思ってます。</p>
<h2 id="インストール"><a class="header" href="#インストール">インストール</a></h2>
<p>これは<code>starship</code>の説明通りにやっていけば大丈夫ですね。</p>
<h3 id="step-1"><a class="header" href="#step-1">Step 1.</a></h3>
<p>ターミナルから</p>
<pre><code class="language-admonish quote title=&quot;Command&quot;">```sh
curl -sS https://starship.rs/install.sh | sh
```
</code></pre>
<p>と、やってもいいのですが、わたしは<code>homebrew</code>でやっちゃいます。</p>
<pre><code class="language-admonish quote title=&quot;Command&quot;">```sh
brew install starship
```
</code></pre>
<p>いきなり説明通りから外れましたね！どんまい✨</p>
<h3 id="step-2"><a class="header" href="#step-2">Step 2.</a></h3>
<p><code>zsh</code>を使っている場合は<code>~/.zshrc</code>に以下を追記するだけです。</p>
<pre><code class="language-admonish example title=&quot;.zshrc&quot;">```sh
`eval &quot;$(starship init zsh)&quot;`
```
</code></pre>
<pre><code class="language-admonish info">もし無かったら自分で作っちゃっていいやつです。
</code></pre>
<pre><code class="language-admonish warning">繰り返しますが「追記」です。先に記述されているものがあった場合、そのまま前か後ろに追記してください。
</code></pre>
<h3 id="step-3"><a class="header" href="#step-3">Step 3.</a></h3>
<p>コンフィグファイルは、また別の機会に。</p>
<p><code>WezTerm</code>を一旦終了して再度起動し直しましょう。</p>
<p><img src="wezterm/img/starship.png" alt="starship.png" /></p>
<p><code>3.1 Window</code>で設定したカラースキームが適用されているのを確認できましたね。</p>
<p>あと、月が綺麗ですね。(<code>wezterm</code>ディレクトリに行くと手っ取り早く見られます。)</p>
<pre><code class="language-admonish success">満足💕
それでは`WezTerm`に戻りましょう。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="font"><a class="header" href="#font">Font</a></h1>
<p>これはもう、ほんとにお好きなフォントを使ってもらえれば良いです。</p>
<p>以下に再掲しますが、<code>starship</code>を使用する場合も<code>WezTerm</code>であれば<code>Nerd Font</code>を考慮する必要がありません😆</p>
<pre><code class="language-admonish note title=&quot;[wezterm.nerdfonts](https://wezfurlong.org/wezterm/config/lua/wezterm/nerdfonts.html)&quot;">WezTerm includes Nerd Font Symbols Font as a default font fallback which means that these
special symbols are available even without requiring you to use a patched font.

WezTerm は Nerd Font Symbols Font をデフォルトのフォントのフォールバックとして含んでおり、
これはパッチされたフォントを使わなくてもこれらの特殊記号が利用可能であることを意味します。
</code></pre>
<p>ただ、環境にもよるかもしれませんが、デフォルトの<code>Roboto</code>だと日本語がイマイチ...😢</p>
<p><img src="wezterm/img/font-roboto.png" alt="font-roboto.png" /></p>
<p>なんてことがあるので、次項に続くわけです。</p>
<h2 id="プログラミングフォント-firge-ファージ"><a class="header" href="#プログラミングフォント-firge-ファージ">プログラミングフォント Firge (ファージ)</a></h2>
<p>例として、わたしが普段お世話になっているフォントを紹介します。</p>
<pre><code class="language-admonish note title=&quot;[GitHub - yuru7/Firge](https://github.com/yuru7/Firge)&quot;">Fira Mono と源真ゴシックを合成したプログラミングフォント Firge (ファージ)
</code></pre>
<p>「ダウンロードはこちら」というリンクから、お言葉に甘えて<code>FirgeNerd_v0.2.0.zip</code>をダウンロードしましょう。感謝❤️</p>
<pre><code class="language-admonish info">`Nerd Font`いらないって言いながら`Nerd`なの❗️❓ってなっちゃうんですが、なんかごめんなさい、色々ありました。

取り急ぎ直したので内容は間違ってないと思います。...多分。
</code></pre>
<h2 id="インストール-1"><a class="header" href="#インストール-1">インストール</a></h2>
<p>フォントのインストールは OS の作業になるので、<code>macOS</code>のやり方だけ軽く載せます。</p>
<p>...基本的にはどのOSでも、ダウンロードしてきたファイルを開けば「インストールしますか？」的なの出てきますよね。多分。</p>
<p>やればできる!!</p>
<p><img src="wezterm/img/font1.png" alt="font1.png" />
<img src="wezterm/img/font2.png" alt="font2.png" />
<img src="wezterm/img/font3.png" alt="font3.png" /></p>
<p>ほらできた🤗</p>
<h2 id="wezterm-設定"><a class="header" href="#wezterm-設定">WezTerm 設定</a></h2>
<p>で、このフォントを<code>WezTerm</code>に設定すれば良さそう。</p>
<pre><code class="language-admonish note title=&quot;[wezterm.font](https://wezfurlong.org/wezterm/config/lua/wezterm/font.html)&quot;">This function constructs a lua table that corresponds to the internal FontAttributes struct that is used to select a single named font.

この関数は、単一の名前付きフォントを選択するために使用される内部 FontAttributes 構造体に対応する lua テーブルを構築します。
</code></pre>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
-- 説明簡略のためサンプルとは少し記述を変えてますが、どちらでも構いません。
font = require(&quot;wezterm&quot;).font(&quot;Firge35Nerd Console&quot;),
```
</code></pre>
<p>わたしは<code>Firge35NerdConsole-Regular.ttf</code>をインストールして、<code>WezTerm</code>にファミリー名の<code>Firge35Nerd Console</code>を指定しています。</p>
<pre><code class="language-admonish info">ファミリー名は Font Book 等で確認できます。「情報を確認する(`command + i`)」ですね。
![font-info.png](img/font-info.png)
</code></pre>
<p>フォントサイズも指定できるので一緒に入れておきましょう。</p>
<pre><code class="language-admonish note title=&quot;[font_size](https://wezfurlong.org/wezterm/config/lua/config/font_size.html)&quot;">Specifies the size of the font, measured in points.

You may use fractional point sizes, such as 13.3, to fine tune the size.

フォントのサイズをポイント数で指定します。

13.3 のような小数点のサイズを使用して、サイズを微調整することができます。
</code></pre>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
font_size = 12.0,
```
</code></pre>
<p>上の例はデフォルト値そのままですが、お好みで調整してください。</p>
<pre><code class="language-admonish success">どうでしょう？明らかに日本語が綺麗になりましたね❗️

![font-firge.png](img/font-firge.png)

やったね🤗
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="window-frame"><a class="header" href="#window-frame">Window Frame</a></h1>
<p>コンソールがいい感じになってきたので、次はウィンドウフレーム周りの設定をしていきましょう。</p>
<pre><code class="language-admonish note title=&quot;[window_frame - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/config/lua/config/window_frame.html)&quot;">This setting is applicable primarily on Wayland systems when client side decorations are in use.

この設定は、主にクライアント側の装飾が使用されているWaylandシステムで適用されます。
</code></pre>
<p>とのことなのですが、私はここはデフォルトでいいかなーって思ってるのでほぼ何もしていません。</p>
<p>...いや、一回細かく変えてみたこともあったんですが、最終的にはデフォルトでいいかーってなりました。</p>
<h2 id="font-1"><a class="header" href="#font-1">Font</a></h2>
<p>これもほぼデフォルトのままで、フォントサイズだけ変える程度にしています。</p>
<p>前回やっているフォント設定と同じですね。</p>
<pre><code class="language-admonish note title=&quot;[Native (Fancy) Tab Bar appearance](https://wezfurlong.org/wezterm/config/appearance.html#native-fancy-tab-bar-appearance)&quot;">The following options affect the fancy tab bar:

次のオプションは、ファンシータブバーに影響します。
</code></pre>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
window_frame = {
  -- デフォルト値のままなので記述しなくても平気ですが、後で変えたくなった時にわかりやすいので。
  font = wezfont 'Roboto',
  -- サイズはだいぶ小さくしちゃってます。
  font_size = 8.0,
},
```
</code></pre>
<h2 id="fancy-or-retro"><a class="header" href="#fancy-or-retro">Fancy or Retro</a></h2>
<p>前項で、突然ファンシータブバーという文言が出てきましたが、<code>WezTerm</code>のタブバーには、ファンシーとレトロの2種類があります。</p>
<pre><code class="language-admonish note title=&quot;[use_fancy_tab_bar](https://wezfurlong.org/wezterm/config/lua/config/use_fancy_tab_bar.html)&quot;">When set to true (the default), the tab bar is rendered in a native style with proportional fonts.

true（デフォルト）に設定すると、タブバーはプロポーショナルフォントを使用したネイティブスタイルでレンダリングされます。

When set to false, the tab bar is rendered using a retro aesthetic using the main terminal font.

false に設定すると、タブバーはメインのターミナルフォントを使用したレトロなスタイルで表示されます。
</code></pre>
<p>わたしはファンシー派かなぁ😆 なので何もしません。</p>
<p>レトロ派の方は以下を記述しましょう。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
use_fancy_tab_bar = false
```
</code></pre>
<p>before:</p>
<p><img src="wezterm/img/window-before.png" alt="before" /></p>
<p>after:</p>
<p><img src="wezterm/img/window-after.png" alt="after" /></p>
<pre><code class="language-admonish success">ごめんなさい。全然中身ありませんでしたね😅 まあ、小休止ってことで。

次はキーバインドを変えてみましょう。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="key-binding"><a class="header" href="#key-binding">Key Binding</a></h1>
<p>ここはちょっと難しいというか、どこまで<code>WezTerm</code>をメインに持ってくるのかみたいなところがあります。</p>
<p>例えば<code>tmux</code>。</p>
<p><code>WezTerm</code>自体が<code>tmux</code>と同等かそれ以上の機能を持っているので、
<code>WezTerm</code>に対して<code>tmux</code>と同じキーバインドを与えてしまえば、これは不要になるわけです。<sup class="footnote-reference"><a href="#a">1</a></sup></p>
<p>と言ってもわたしがローカルでしか使っていないから大丈夫なだけで、ネットワークを介して使う場合は困る事もあるかもしれません。</p>
<p>実際、デフォルトでは徹底的に他のソフトウェアとの衝突を避けています。</p>
<pre><code class="language-admonish note title=&quot;[Default Shortcut / Key Binding Assignments](https://wezfurlong.org/wezterm/config/default-keys.html)&quot;">The default key assignments are shown in the table.

デフォルトのキー割り当ては、表のとおりです。
</code></pre>
<h2 id="現在のキーバインド確認"><a class="header" href="#現在のキーバインド確認">現在のキーバインド確認</a></h2>
<p>まずは現在のキーバインドがどうなっているのかを確認します。</p>
<pre><code class="language-admonish note title=&quot;[show-keys](https://wezfurlong.org/wezterm/cli/show-keys.html#wezterm-show-keys)&quot;">Prints the complete set of key assignments based on your config file.

設定ファイルに基づいたキー割り当ての完全なセットを表示します。
</code></pre>
<p>実行してみましょう。そのまま<code>WezTerm</code>で<code>wezterm</code>コマンドを使えば良いです。</p>
<pre><code class="language-admonish quote title=&quot;Command&quot;">```sh
wezterm show-keys
```
</code></pre>
<p><img src="wezterm/img/key-now.png" alt="key-now.png" /></p>
<p>そう、これが現在のキーバインドですね。</p>
<h2 id="設定を落とし込む"><a class="header" href="#設定を落とし込む">設定を落とし込む</a></h2>
<p>で、ここで提案なんですが、キーバインドを自分の設定ファイルに落とし込んじゃったらどうかな？と思うわけです。</p>
<p>それをやるにはどうすれば簡単かな〜っていう話になるんですけど、方法はすでにありました。</p>
<pre><code class="language-admonish quote title=&quot;Command&quot;">```sh
wezterm show-keys --lua
```
</code></pre>
<p><img src="wezterm/img/key-now-lua.png" alt="key-now-lua.png" /></p>
<p>さすがですね☺️ もはやレールは存在していました。これを<code>keybinds.lua</code>に持っていけば良いだけです。</p>
<p>これはもうプロっぽく片付けましょう。シェル芸というやつです✨</p>
<pre><code class="language-admonish quote title=&quot;Command&quot;">```sh
wezterm show-keys --lua &gt; keybinds.lua
```
</code></pre>
<pre><code class="language-admonish warning">上記コマンドのファイル出力先は現在のディレクトリです。

`~/.config/wezterm`に移動するか、出力先を`~/.config/wezterm/keybinds.lua`に指定してください。
</code></pre>
<p>これだけでもう直接流し込めちゃうんですね。簡単〜😆</p>
<h2 id="読み込み先を切り替える"><a class="header" href="#読み込み先を切り替える">読み込み先を切り替える</a></h2>
<p>ここまでは暗黙的にデフォルト設定が適用されていましたが、これからは自分で作った<code>keybinds.lua</code>を使っていきましょう。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
keys = require(“keybinds”).keys,
```
</code></pre>
<p>冒頭のリンクを再掲しますが、一番下にこのようにあります。</p>
<pre><code class="language-admonish note title=&quot;[Default Key Assignments](https://wezfurlong.org/wezterm/config/default-keys.html)&quot;">If you don't want the default assignments to be registered, you can disable all of them with this configuration; if you chose to do this, you must explicitly register every binding.

デフォルトの割り当てを登録したくない場合は、この設定ですべての割り当てを無効にできます。これを選択した場合は、すべてのバインディングを明示的に登録しなければなりません。
</code></pre>
<p>デフォルト設定は以下で完全に無効化されます。不安に感じるようであればスキップしても大丈夫です。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
disable_default_key_bindings = true,
```
</code></pre>
<pre><code class="language-admonish success">これでキーバインドの移行が完了しました。まあ、まだ中身は同じなんですけどね。

さて、もう一つのポイントとして leader キーというものがあります。これについてはまた次回。
</code></pre>
<div class="footnote-definition" id="a"><sup class="footnote-definition-label">1</sup>
<p>実際、わたしも<code>WezTerm</code>を使う前は<code>iTerm2</code>の上で<code>tmux</code>を動かしていました。</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="leader-key"><a class="header" href="#leader-key">Leader Key</a></h1>
<p>さて、前回はキーバインドを落とし込んだわけですが、今回は<code>Leader</code>キーです。</p>
<pre><code class="language-admonish note title=&quot;[Key Binding - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/config/keys.html#leader-key)&quot;">A leader key is a a modal modifier key. If leader is specified in the configuration then pressing that key combination will enable a virtual LEADER modifier.

Leaderキーは、モーダルモディファイアキーです。Leaderキーが設定されている場合、そのキーの組み合わせを押すと、仮想的なリーダーモディファイアが有効になります。
</code></pre>
<p><code>Leader</code>キーという概念は WezTerm 特有のものではく、<code>tmux</code>や<code>vim</code>など古参のソフトウェアでも用いられています。</p>
<p>WezTerm でのデフォルトは<code>CTRL-a</code>です。<sup class="footnote-reference"><a href="#other">1</a></sup></p>
<pre><code class="language-admonish info">`CTRL-a` という表記は`control`キーと`a`キーを同時押しすることを示しています。
</code></pre>
<p>ということで、わたしはもうそのまま<code>CTRL-a</code>で設定しています。
デフォルトのままでいいやー、って場合は書かなくてもOKです。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
leader = { key = 'a', mods = 'CTRL', timeout_milliseconds = 2000 },
```
</code></pre>
<pre><code class="language-admonish info">`timeout_milliseconds`のパラメータを変えていますが、これは後で触れます。
</code></pre>
<p><code>vim</code>や<code>tmux</code>等を使用する場合は、これとバッティングしていないかチェックしときましょう。</p>
<pre><code class="language-admonish warning">macOSでUS配列なのに日本語IME使うような環境[^minority]では`CTRL-Space`が入力ソースの切り替えに割り当てられています。
OSのショートカットキー等も含め、あらかじめ確認しておきましょう。

他のと被っちゃうと困っちゃいます。
</code></pre>
<h2 id="timeout_milliseconds"><a class="header" href="#timeout_milliseconds">timeout_milliseconds</a></h2>
<p>これは前項で挙げたマニュアルの文章を引用しますが、</p>
<pre><code class="language-admonish note">`LEADER` stays active until a keypress is registered (whether it matches a key binding or not),
or until it has been active for the duration specified by `timeout_milliseconds`, at which point it will automatically cancel itself.
</code></pre>
<p><code>Leader</code>キーが一回押されたら、とりあえず何か次のキーが押されるか、指定ミリ秒経過するまでは待つよ〜。ってことですね。</p>
<p>例えば、</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
{ key = 'u', mods = 'LEADER', action = act.CharSelect },
```
</code></pre>
<p>...と、やる場合、<code>CTRL-a</code> → <code>space</code>と順番にキーを押す必要があるわけですが、
デフォルトでは、<code>CTRL-a</code>から<code>space</code>を押すまでが 1000ミリ秒( = 1秒)以内で完結しないといけないわけです。</p>
<p>1秒を長いと見るか短いと見るかは人それぞれなので、これをお好みに調整できるのが、前項の<code>timeout_milliseconds</code>です。</p>
<h2 id="でもう一回キーバインド"><a class="header" href="#でもう一回キーバインド">で、もう一回キーバインド</a></h2>
<p>さて、皆さんはお気づきだろうか…。</p>
<p>デフォルトのキー設定では<code>Leader</code>キーなんて一切使われていないことに…😨</p>
<p>例えばこれ。</p>
<pre><code class="language-admonish info title=&quot;Default KeyBinds&quot;">```lua
{ key = '&quot;', mods = 'ALT|CTRL', action = act.SplitVertical{ domain =  'CurrentPaneDomain' } },
{ key = '%', mods = 'ALT|CTRL', action = act.SplitHorizontal{ domain =  'CurrentPaneDomain' } },
```
</code></pre>
<pre><code class="language-admonish note">`ALT|CTRL`は`Alt`キーと`Ctrl`キーを同時押しです。

さらに`&quot;`を押せと言われれば`Shift`キーを押しながら`'`です。[^key]
</code></pre>
<p>…なんか、難しくないですか？</p>
<p>それだったら、下のようにしたほうが楽じゃないですか？</p>
<pre><code class="language-admonish example title=&quot;keybinds.lua&quot;">```lua
{ key = '&quot;', mods = 'LEADER', action = act.SplitVertical { domain = 'CurrentPaneDomain' } },
{ key = '%', mods = 'LEADER', action = act.SplitHorizontal { domain = 'CurrentPaneDomain' } },
```
</code></pre>
<p><code>tmux</code>と同じキーバインドですね。ペイン操作も<code>WezTerm</code>に一任しちゃいます。</p>
<p><code>tmux</code>使ってないのに同等の機能が実現できちゃうんですよ？すごくないです！？</p>
<p>もしどこかで<code>tmux</code>を使うことがあっても同一操作なので迷わず使えます、たぶん！</p>
<pre><code class="language-admonish info">さらにタイムリーなことに、`Copy Mode`の各種`jump`機能も実装されてました。(9/22時点では`nightly build`だけです。)

[update docs for new copy-mode functions](https://github.com/wez/wezterm/commit/8458b2b62d90cbf3326c39ed5a72ef256588ebe3)

`tmux`のキーバインドを完全に真似るのであれば、`CopyMode`に入るキーバインドはこれですね。
```lua
  { key = '[', mods = 'LEADER', action = act.ActivateCopyMode },
```

`jump`機能はデフォルトのままで`tmux`と同じキーバインドが割り当てられているようなので、そのままいけます。[^copy-mode]
</code></pre>
<p>ということで、キーバインドは色々試してみてほしいです。</p>
<pre><code class="language-admonish info title=&quot;[enum: KeyAssignment - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/config/lua/keyassignment/index.html)&quot;">A KeyAssignment represents a pre-defined function that can be applied to control the Window, Tab, Pane state typically when a key or mouse event is triggered.

KeyAssignment は、キーまたはマウス イベントがトリガーされたときに、通常 Window、Tab、Pane の状態を制御するために適用できる事前定義された関数を表します。
</code></pre>
<pre><code class="language-admonish success">キーバインドについてはこのくらいでしょうか。次からは外観を変えていきたいと思います。
</code></pre>
<div class="footnote-definition" id="other"><sup class="footnote-definition-label">1</sup>
<p>tmux のデフォルトは <code>CTRL-b</code>、vimのデフォルトは<code>CTRL-\</code>です。
ちょっと遠い位置に置かれていて大変なので、 Leaderキーのカスタマイズは一般的に行われているみたいです。
メジャーなカスタマイズ先は<code>CTRL-a</code>や、<code>CTRL-j</code>、<code>CTRL-,(カンマ)</code>、<code>CTRL-Space</code>あたりでしょうか？</p>
</div>
<div class="footnote-definition" id="minority"><sup class="footnote-definition-label">2</sup>
<p>色んな意味で少数派なんですけどね。わたしもこの環境です。</p>
</div>
<div class="footnote-definition" id="key"><sup class="footnote-definition-label">3</sup>
<p>USキーボードの場合。</p>
</div>
<div class="footnote-definition" id="copy-mode"><sup class="footnote-definition-label">4</sup>
<p><code>3.5 Keybind</code>で「いや、自分のキーバインドに切り替えたじゃないかー！」と思われた方、ごもっともです。実は<code>copy-mode</code>のキーバインドには触れていませんでした。
ちょっとこの辺、複雑ですよね...。また今度改編します...。</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="format"><a class="header" href="#format">Format</a></h1>
<p>次はウィンドウタイトルとタブを飾り付けていこうかなーと思うのですが、
まずは<code>format.lua</code>とでもして、またファイルを作成しましょう。</p>
<pre><code class="language-admonish example title=&quot;format.lua&quot;">```lua
local wezterm = require 'wezterm'
```
</code></pre>
<p>で、これを<code>wezterm.lua</code>から呼び出します。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
require 'format'

-- ↓ ここまでで色々と記述してきたところ
return {
  -- 〜
}
```
</code></pre>
<pre><code class="language-admonish warning">記述する位置は`return`節の外です。
</code></pre>
<pre><code class="language-admonish success">こんなのもう楽勝ですね。次に進みましょう。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="window-title"><a class="header" href="#window-title">Window Title</a></h1>
<p><code>format.lua</code>に、以下のコードを追記していきましょう。<sup class="footnote-reference"><a href="#code">1</a></sup></p>
<pre><code class="language-admonish example title=&quot;format.lua&quot;">```lua
local wezterm = require 'wezterm'

local function BaseName(s)
  return string.gsub(s, '(.*[/\\])(.*)', '%2')
end

wezterm.on('format-window-title', function(tab)
  return BaseName(tab.active_pane.foreground_process_name)
end)
```
</code></pre>
<p>この節のポイントは<code>wezterm.on(event_name, callback)</code>です。</p>
<pre><code class="language-admonish note title=&quot;[on - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/config/lua/wezterm/on.html)&quot;">wezterm.on causes your specified callback to be called when event_name is emitted. Events can be emitted by wezterm itself, or through code/configuration that you specify.

wezterm.on は、event_name が発生したときに指定したコールバックを呼び出します。イベントは wezterm 自身によって、またはあなたが指定したコード/設定によって発行されます。
</code></pre>
<p>この例で言うと、<code>format-window-title</code>という名前のイベントが発生したら、ここで定義した functtion が呼ばれるという動作をします。</p>
<pre><code class="language-admonish note title=&quot;[format-window-title - Wez's Terminal Emulator](https://wezfurlong.org/wezterm/config/lua/window-events/format-window-title.html)&quot;">The format-window-title event is emitted when the text for the window title needs to be recomputed.

`format-window-title`イベントはウィンドウタイトルのテキストを再計算する必要がある場合に発行されます。
</code></pre>
<p>再計算と言うよりは再描画というニュアンスに近いでしょうか。</p>
<p>要するにこのイベントが発生した際にウィンドウタイトルとして表示するテキストを指定します。抜粋すると以下の部分ですね。</p>
<pre><code class="language-lua">function(tab)
  return BaseName(tab.active_pane.foreground_process_name)
end
</code></pre>
<p>無名関数というやつです。
これが<code>BaseName</code>関数にプロセス名を渡して、正規表現で加工された文字列を返しています。</p>
<p>わたしが正規表現の理解に乏しいので説明できませんが、この例では純粋に実行アプリケーション名だけを取り出しています...よね？</p>
<p>before:
<img src="wezterm/img/window-title-before.png" alt="window-title-before" /></p>
<p>after:
<img src="wezterm/img/window-title-after.png" alt="window-title-after" /></p>
<p>すみません、これ (↑) タイトルバーです...。 </p>
<pre><code class="language-admonish success">スッキリしましたね、スッキリしすぎたかもしれません。

まあ、これも各自お好みで調整してもらえればOKです。
</code></pre>
<div class="footnote-definition" id="code"><sup class="footnote-definition-label">1</sup>
<p>なんか偉そうでした。wez さんのサンプル、丸パクリです...。</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tab"><a class="header" href="#tab">Tab</a></h1>
<p>さて、引き続き<code>format.lua</code>に追記していきましょう。今回はタブタイトルです。</p>
<pre><code class="language-admonish example title=&quot;format.lua&quot;">```lua
local HEADER = '' -- 文字化けしちゃってるかもしれませんが、アイコンフォント入ってます。

local SYMBOL_COLOR = { '#ffb2cc', '#a4a4a4' }
local FONT_COLOR = { '#dddddd', '#888888' }
local BACK_COLOR = '#2d2d2d'
local HOVER_COLOR = '#434343'

wezterm.on('format-tab-title', function(tab, tabs, panes, config, hover, max_width)
  local index = tab.is_active and 1 or 2

  local bg = hover and HOVER_COLOR or BACK_COLOR
  local zoomed = tab.active_pane.is_zoomed and '🔎 ' or ' '

  return {
    { Foreground = { Color = SYMBOL_COLOR[index] } },
    { Background = { Color = bg } },
    { Text = HEADER .. zoomed },

    { Foreground = { Color = FONT_COLOR[index] } },
    { Background = { Color = bg } },
    { Text = tab.active_pane.title },
  }
end)
```
</code></pre>
<p>これもウィンドウタイトルと同じように、<code>wezterm.on</code>を使って<code>format-tab-title</code>イベントの処理を書いています。</p>
<p>色は適宜調整してください。</p>
<pre><code class="language-admonish note title=&quot;[format-tab-title](https://wezfurlong.org/wezterm/config/lua/window-events/format-tab-title.html)&quot;">The format-tab-title event is emitted when the text for a tab title needs to be recomputed.

format-tab-title イベントは、タブタイトルのテキストを再計算する必要があるときに発行されます。
</code></pre>
<p>これもウィンドウタイトルとほぼ同じですね。</p>
<p>所々で状態によって表示するものを変えていますが、やっていることは<code>zoomed</code>と<code>hover</code>の可視化ですね。</p>
<h2 id="タブタイトル"><a class="header" href="#タブタイトル">タブタイトル</a></h2>
<p>上にある例では表示する内容は特に加工していませんが、前回作った<code>BaseName</code>に通すのもスッキリしてオススメです。</p>
<pre><code class="language-admonish example">```lua
return {}

  〜

  { Text = BaseName(tab.active_pane.title) },
}
```
</code></pre>
<h2 id="zoomed"><a class="header" href="#zoomed">Zoomed</a></h2>
<p>ズーム中はタブに 🔎 アイコンを表示してます。 </p>
<pre><code class="language-admonish note title=&quot;[TogglePaneZoomState](https://wezfurlong.org/wezterm/config/lua/keyassignment/TogglePaneZoomState.html)&quot;">Toggles the zoom state of the current pane.
A Zoomed pane takes up all available space in the tab, hiding all other panes while it is zoomed.

現在のペインのズーム状態をトグルします。
ズームされたペインは、タブ内で利用可能な全てのスペースを占め、ズーム中は他のペインが全て非表示になります。
</code></pre>
<p>デフォルトのキーバインドだとZoom機能が割り当てられていないと思うので、<code>keybinds.lua</code>に入れておきましょう。</p>
<pre><code class="language-admonish example title=&quot;keybinds.lua&quot;">```lua
{ key = 'Z', mods = 'CTRL', action = act.TogglePaneZoomState },
```
</code></pre>
<p>使い方としては、まあこんな感じになってたとして...
(ペイン操作については<code>3.6 Leader Key</code>でふわっと話題にしました。)</p>
<p><img src="wezterm/img/zoom-before.png" alt="zoom-before" /></p>
<p>上のペインにいる状態でズームすると...</p>
<p><img src="wezterm/img/zoom-after.png" alt="zoom-after" /></p>
<p>&quot;ズーム中は他のペインが全て非表示になります。&quot;のドキュメントどおり😏</p>
<p>左上に 🔎 アイコンが出ていることも確認できましたね。</p>
<p>もう一度同じ操作で戻ります。</p>
<h2 id="hover"><a class="header" href="#hover">Hover</a></h2>
<p>ホバー中は該当のタブ背景色を少し変えてます。</p>
<pre><code class="language-admonish note title=&quot;[hover](https://wezfurlong.org/wezterm/config/lua/window-events/format-tab-title.html)&quot;">true if the current tab is in the hover state

現在のタブがホバー状態である場合に true を返します。
</code></pre>
<h2 id="少しluaのお話"><a class="header" href="#少しluaのお話">少しluaのお話</a></h2>
<pre><code class="language-admonish example">```lua
local SYMBOL_COLOR = { '#ffb2cc', '#a4a4a4' }
local FONT_COLOR = { '#dddddd', '#888888' }

local index = tab.is_active and 1 or 2

{ Foreground = { Color = SYMBOL_COLOR[index] } },
```
</code></pre>
<p>lua の配列は<code>[1]</code>始まりなので、(Cとかは<code>[0]</code>から始まりますよね。)
三項演算子<code>local index = tab.is_active and 1 or 2</code>によって<code>SYMBOL_COLOR</code>配列と<code>FONT_COLOR</code>配列それぞれから採用する色を切り替えます。</p>
<p><code>else</code>節を消せるだけ消す書き方、わたしは好きなんですがどうでしょう?</p>
<pre><code class="language-admonish success">だんだん洗練されてきましたね。いよいよ大詰めです。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="status-bar"><a class="header" href="#status-bar">Status Bar</a></h1>
<p>今度はステータスバーを飾り付けちゃおっかなーと思います。</p>
<p><code>status.lua</code>というファイルを追加しましょう。</p>
<pre><code class="language-admonish example title=&quot;status.lua&quot;">```lua
local wezterm = require 'wezterm'

wezterm.on('update-status', function(window, pane)
end)
```
</code></pre>
<p>もうお馴染みですね。<code>wezterm.lua</code>から読み込みましょう。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
require 'status'

-- ↓ ここまでで色々と記述してきたところ
return {
  -- 〜
}
```
</code></pre>
<p>さて、<code>wezterm.on</code>を利用して<code>update-status</code>イベントをフックします。</p>
<pre><code class="language-admonish note title=&quot;[update-status](https://wezfurlong.org/wezterm/config/lua/window-events/update-status.html)&quot;">The update-status event is emitted periodically (based on the interval specified by the status_update_interval configuration value).

There is no defined return value for the event, but its purpose is to allow you the chance to carry out some activity and then ultimately call window:set_right_status or window:set_left_status.

update-status イベントは定期的に発行されます (status_update_interval 設定値で指定された間隔に基づく)。

このイベントの戻り値は定義されていませんが、その目的は、何らかの活動を行い、最終的に window:set_right_status または window:set_left_status を呼び出す機会を提供することです。
</code></pre>
<p>とのことなので、<code>wezterm.lua</code>の中でステータス更新間隔を指定しておきましょう。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```
return {
  status_update_interval = 1000,
}
```
</code></pre>
<pre><code class="language-admonish note title=&quot;[status_update_interval](https://wezfurlong.org/wezterm/config/lua/config/status_update_interval.html)&quot;">Specifies the number of milliseconds that need to elapse between triggering the update-right-status hook.

update-right-status フックのトリガーとなるまでに必要なミリ秒を指定します。
</code></pre>
<p>デフォルトは<code>1000ミリ秒(=1秒)</code>です。そのままで良ければ必要ありません。</p>
<pre><code class="language-admonish warning">ドキュメントでは`update-right-status`となっていますが、前出の`update-status`が後継仕様となっているので、こちらを使っていきます。
</code></pre>
<pre><code class="language-admonish success">それでは次に進みましょう！
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="left-status"><a class="header" href="#left-status">Left Status</a></h1>
<p>まずはステータスバーの左側を活用していきましょう。</p>
<h2 id="キーボード状態"><a class="header" href="#キーボード状態">キーボード状態</a></h2>
<p>わたしが使っているのはキーボード状態です。ひとまずコードはこんな感じ。</p>
<pre><code class="language-admonish example title=&quot;status.lua&quot;">```lua
local DEFAULT_COLOR = { Color = '#9a9eab' }

local SPACE_1 = ' '
local SPACE_3 = '   '

local HEADER_KEY_NORMAL = { Foreground = DEFAULT_COLOR, Text = '' }
local HEADER_LEADER = { Foreground = { Color = '#ffffff' }, Text = '' }
local HEADER_IME = { Foreground = DEFAULT_COLOR, Text = 'あ' }

local function AddIcon(elems, icon)
  table.insert(elems, { Foreground = icon.Foreground })
  table.insert(elems, { Text = SPACE_1 .. icon.Text .. SPACE_3 })
end

local function GetKeyboard(elems, window)
  if window:leader_is_active() then
    AddIcon(elems, HEADER_LEADER)
    return
  end

  AddIcon(elems, window:composition_status() and HEADER_IME or HEADER_KEY_NORMAL)
end
```
</code></pre>
<p><code>SPACE_3</code>とかは自分でもちょっとマヌケだとは思ってますが、なんかごめんなさい...。</p>
<p>まだ<code>update-status</code>と繋いでないので動きませんが、ここで一旦区切って補足します。</p>
<p>ここでは以下の状態を可視化します。</p>
<ul>
<li><code>leader</code>キーアクティブ</li>
<li>IME</li>
</ul>
<h2 id="leaderキーアクティブ"><a class="header" href="#leaderキーアクティブ">Leaderキーアクティブ</a></h2>
<p>まずは<code>leader</code>キーの状態を以下で取得します。</p>
<pre><code class="language-admonish note title=&quot;[window:leader_is_active](https://wezfurlong.org/wezterm/config/lua/window/leader_is_active.html)&quot;">Returns true if the Leader Key is active in the window, or false otherwise.

リーダーキーがウィンドウ内でアクティブな場合はtrueを、そうでない場合はfalseを返します。
</code></pre>
<p>リーダーキーがアクティブである場合はIMEよりも優先して表示します。</p>
<h2 id="ime状態"><a class="header" href="#ime状態">IME状態</a></h2>
<p>次にIME状態です。</p>
<pre><code class="language-admonish note title=&quot;[window:composition_status()](https://wezfurlong.org/wezterm/config/lua/window/composition_status.html)&quot;">Returns a string holding the current dead key or IME composition text, or nil if the input layer is not in a composition state.

This is the same text that is shown at the cursor position when composing.

現在のデッドキーまたはIMEのコンポジションテキストを保持する文字列、または入力レイヤーがコンポジション状態でない場合はnilを返します。

これは、コンポジション時にカーソル位置に表示されるテキストと同じものです。
</code></pre>
<p><code>GetKeyboard()</code>では、<code>window:composition_status()</code>の結果が<code>nil</code>か否かでアイコンの色を変えてます。</p>
<pre><code class="language-admonish info">コンポジションって何だ？と思われるかもしれませんが、わたしも思ってます。

でも、この状態を指すようです。

![composition](img/composition.png)

ちょっとフライングしてますが、左上に`あ`と出てるのが`composition_status()`で`nil以外`が返ってきている状態です。

(`nil`でない場合は文字列が入りますが、この例では使用していません。)
</code></pre>
<p>さて、それでは<code>update-status</code>に繋ぎ込みましょう。</p>
<pre><code class="language-admonish example title=&quot;status.lua&quot;">```lua
local function LeftUpdate(window, pane)
  local elems = {}

  GetKeyboard(elems, window)

  window:set_left_status(wezterm.format(elems))
end

wezterm.on('update-status', function(window, pane)
  LeftUpdate(window, pane)
end)
```
</code></pre>
<p>normal:</p>
<p><img src="wezterm/img/key-normal.png" alt="key-normal" /></p>
<p>leader key is active:</p>
<p><img src="wezterm/img/key-leader.png" alt="key-leader" /></p>
<p>composition:</p>
<p><img src="wezterm/img/key-ime.png" alt="key-ime" /></p>
<pre><code class="language-admonish success">こんなもんですね。動きが出て楽しいですね😆 ...ね❗️ね❗️
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="right-status"><a class="header" href="#right-status">Right Status</a></h1>
<p>これはもう手厚いサンプルが既に用意されているので、この通りに書けばバッチリです。やったね！</p>
<pre><code class="language-admonish note title=&quot;[window:set_right_status(string)](https://wezfurlong.org/wezterm/config/lua/window/set_right_status.html)&quot;">This method can be used to change the content that is displayed in the tab bar, to the right of the tabs and new tab button. 

このメソッドを使用すると、タブバー内のタブと新規タブボタンの右側に表示される内容を変更することができます。
</code></pre>
<p>ただ、わたしの設定例にお付き合いいただける方のために、もうちょっとだけ続きます。</p>
<h2 id="my-customize"><a class="header" href="#my-customize">My Customize</a></h2>
<p>まずは wez さんのサンプルコードをほぼ丸写しですが、一つずつ機能を分けます。</p>
<pre><code class="language-admonish warning">先に下記のコードを載せていますが、いくつか未定義なものがあるので、これだけだとエラーになっちゃいます。
</code></pre>
<pre><code class="language-admonish example title=&quot;status.lua&quot;">```lua
local function GetHostAndCwd(elems, pane)
  local uri = pane:get_current_working_dir()

  if not uri then
    return
  end

  local cwd_uri = uri:sub(8)
  local slash = cwd_uri:find '/'

  if not slash then
    return
  end

  local host = cwd_uri:sub(1, slash - 1)
  local dot = host:find '[.]'

  AddElement(elems, HEADER_HOST, dot and host:sub(1, dot - 1) or host)
  AddElement(elems, HEADER_CWD, cwd_uri:sub(slash))
end

local function GetDate(elems)
  AddElement(elems, HEADER_DATE, wezterm.strftime '%a %b %-d')
end

local function GetTime(elems)
  AddElement(elems, HEADER_TIME, wezterm.strftime '%H:%M')
end

local function GetBattery(elems, window)
  if not window:get_dimensions().is_full_screen then
    return
  end

  for _, b in ipairs(wezterm.battery_info()) do
    AddElement(elems, HEADER_BATTERY, string.format('%.0f%%', b.state_of_charge * 100))
  end
end
```
</code></pre>
<p>wez さんのサンプルでは一度に取得していた date と time も分けちゃってます。</p>
<p>程度は分かりませんが、非効率ではあると思われるのでお好みで。</p>
<p>バッテリー表示については、わたしの場合はフルスクリーンの時だけ出しています。スクリーン状態は下記で取得できます。</p>
<pre><code class="language-admonish note title=&quot;[window:get_dimensions()](https://wezfurlong.org/wezterm/config/lua/window/get_dimensions.html)&quot;">The table has the following fields:

テーブルには以下のフィールドがあります:

pixel_width, pixel_height, dpi, is_full_screen
</code></pre>
<p>ここでは<code>is_full_screen</code>を使います。フルスクリーン時は true が返ります。</p>
<pre><code class="language-admonish warning">`WezTerm`の[ToggleFullScreen](https://wezfurlong.org/wezterm/config/lua/keyassignment/ToggleFullScreen.html)を使用してフルスクリーンにしている場合は反応してくれないようです。

OSからフルスクリーン化した時はちゃんと反応します。

![fullscreen](img/fullscreen.png)
</code></pre>
<p>で、以下が足りていなかった定義です。</p>
<pre><code class="language-admonish example title=&quot;status.lua&quot;">```lua
-- ここもやっぱりアイコン入れてます
local HEADER_HOST = { Foreground = { Color = '#75b1a9' }, Text = '' }
local HEADER_CWD = { Foreground = { Color = '#92aac7' }, Text = '' }
local HEADER_DATE = { Foreground = { Color = '#ffccac' }, Text = '' }
local HEADER_TIME = { Foreground = { Color = '#bcbabe' }, Text = '' }
local HEADER_BATTERY = { Foreground = { Color = '#dfe166' }, Text = '' }

local HEADER_KEY_NORMAL = { Foreground = DEFAULT_COLOR, Text = '' }
local HEADER_LEADER = { Foreground = { Color = '#ffffff' }, Text = '' }
local HEADER_IME = { Foreground = DEFAULT_COLOR, Text = 'あ' }

local function AddElement(elems, header, str)
  table.insert(elems, { Foreground = header.Foreground })
  table.insert(elems, { Text = header.Text .. SPACE_1 })

  table.insert(elems, { Foreground = DEFAULT_COLOR })
  table.insert(elems, { Text = str .. SPACE_3 })
end
```
</code></pre>
<p>引っ張った割には特に説明するところもないですね...。そのまま完成させちゃいましょう😆</p>
<pre><code class="language-admonish example title=&quot;status.lua&quot;">```lua
local function RightUpdate(window, pane)
  local elems = {}

  GetHostAndCwd(elems, pane)
  GetDate(elems)
  GetTime(elems)
  GetBattery(elems, window)

  window:set_right_status(wezterm.format(elems))
end

wezterm.on('update-status', function(window, pane)
  -- 冗長に見えるかもしれませんが、Left Status の設定を後で入れるのでこうなってます。
  RightUpdate(window, pane)
end)
```
</code></pre>
<p>さて、これでこんな感じになったはずなんですがどうでしょうか？右上です。</p>
<p><img src="wezterm/img/right-status.png" alt="right-status" /></p>
<p>フルスクリーン時にバッテリー表示もされているでしょうか？
<img src="wezterm/img/right-status-full.png" alt="right-status" /></p>
<pre><code class="language-admonish success">華やかになりましたね。

(ぶっちゃけそんな見ないんだけど) サンプル通りとはいえ、自分で書いたコードが動くんだから楽しい世界ですよね〜。

ほわほわ〜☺️
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="custom-event"><a class="header" href="#custom-event">Custom Event</a></h1>
<p>さて、一通り片付いたかな〜って感じなので、ここは付録みたいなものです。</p>
<p>お付き合いいただける方は<code>event.lua</code>とでもしてまたファイルを作成しましょう。</p>
<pre><code class="language-admonish example title=&quot;event.lua&quot;">```lua
-- まだ何にもない。
```
</code></pre>
<p>これもまたお馴染みですが、<code>wezterm.lua</code>から呼び出しましょう。</p>
<pre><code class="language-admonish example title=&quot;wezterm.lua&quot;">```lua
require 'event'
```
</code></pre>
<pre><code class="language-admonish success">もう何も言うことはありませんね。次に進みましょう。
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="toggle-font"><a class="header" href="#toggle-font">Toggle Font</a></h1>
<p>ここではわたしが使っている機能実装を紹介します。</p>
<p>環境によっては全く必要ないと思いますので、その場合はスキップしてください。</p>
<h2 id="まず前提"><a class="header" href="#まず前提">まず前提</a></h2>
<p>わたしのディスプレイ環境なんですが、MacBook と 4K を行ったり来たりして使っています。</p>
<p>だからなんだって言われるとキツイんですが、一番わかりやすいところでフォントサイズの問題があって、画面のスケールが違いすぎて 大きすぎたり小さすぎたりしてしまう...😢</p>
<p><img src="wezterm/img/img-4k.png" alt="img-4k" /></p>
<p><img src="wezterm/img/img-mbp.png" alt="img-mbp" /></p>
<pre><code class="language-admonish info">意図伝わりますでしょうか...。

むしろツールバーをみてもらった方がわかりやすいかもしれません。アイコンとかフォントとか、サイズというか、スケール全然違うでしょ？
</code></pre>
<p><a href="https://wezfurlong.org/wezterm/config/lua/keyassignment/DecreaseFontSize.html">DecreaseFontSize</a>・
<a href="https://wezfurlong.org/wezterm/config/lua/keyassignment/IncreaseFontSize.html">IncreaseFontSize</a>
を使ってサイズを上下するのもいいんですが、ちょっとコレじゃない...。</p>
<p>わたしはこれが結構ストレスになっていたので、 この問題の解消に有用なのが次のフォント切り替え機能です。</p>
<h2 id="フォント切り替え"><a class="header" href="#フォント切り替え">フォント切り替え</a></h2>
<p>この例では<code>toggle-font-size</code>というイベントを独自に作っています。</p>
<p>フォントサイズに限らず、元の設定を直接変えるのではなく、オーバーライドする形式になっています。</p>
<pre><code class="language-admonish note title=&quot;[window:get_config_overrides()](https://wezfurlong.org/wezterm/config/lua/window/get_config_overrides.html)&quot;">Returns a copy of the current set of configuration overrides that is in effect for the window.

ウィンドウに適用されている設定オーバーライドの現在のセットのコピーを返します。
</code></pre>
<p>端的に言えば、オーバーライドされていない素の状態であれば、<code>font_size</code>を<code>10.0</code>でオーバーライドする。</p>
<p>オーバーライドされているのであれば、<code>font_size</code>を<code>nil</code>としてオーバーライドを無効化する(<code>14.0</code>に戻される)。</p>
<pre><code class="language-admonish example title=&quot;event.lua&quot;">```lua
local wezterm = require 'wezterm'

wezterm.on('toggle-font-size', function(window, pane)
  local overrides = window:get_config_overrides() or {}
  overrides.font_size = not overrides.font_size and 10.0 or nil

  window:set_config_overrides(overrides)
end)
```
</code></pre>
<p>これでフォントサイズの切り替えが実現できます。</p>
<pre><code class="language-admonish info">ごめんなさい。わたしは`wezterm.lua`での素の`font_size`を`14.0`にしています。各自で調整してください。

(`14.0`と`10.0`を行ったり来たりできるように設定しています。)
</code></pre>
<p>独自イベントが呼び出されるようにするには<code>EmitEvent</code>を用います。</p>
<pre><code class="language-admonish note title=&quot;[EmitEvent](https://wezfurlong.org/wezterm/config/lua/keyassignment/EmitEvent.html)&quot;">This action causes the equivalent of wezterm.emit(name, window, pane) to be called in the context of the current pane.

このアクションは、現在のペインのコンテキストで wezterm.emit(name, window, pane) と同等のアクションが呼び出されるようにします。
</code></pre>
<p>今回はキーバインド<code>ctrl-f</code>をトリガーとして呼び出します。</p>
<pre><code class="language-admonish example title=&quot;keybinds.lua&quot;">```lua
  { key = 'f', mods = 'CTRL', action = act.EmitEvent 'toggle-font-size' },
```
</code></pre>
<p>まあ、思いっきり手動なんですけどね。自動で出来たら面白いんですけどね。</p>
<pre><code class="language-admonish info">あれ？dpi取得できるなら自動で出来るのかな。このサイト作りながら気づいてしまった...。

アウトプットはしてみるものですね😆次のページに書いちゃいます。
</code></pre>
<p>素の状態: <sup class="footnote-reference"><a href="#big">1</a></sup>
<img src="wezterm/img/font-big.png" alt="font-big" /></p>
<p>切り替えた状態:
<img src="wezterm/img/font-small.png" alt="font-small" /></p>
<pre><code class="language-admonish success">切り替えられましたね🤗

気持ちいい〜❗️
</code></pre>
<div class="footnote-definition" id="big"><sup class="footnote-definition-label">1</sup>
<p>さらにフォントサイズを大きくして説明用に誇張しています。が、まだなんか中途半端でしたね。</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dpi-detection"><a class="header" href="#dpi-detection">DPI Detection</a></h1>
<p>前回は手動でフォントサイズの切り替えを行いましたが、今回はこれを<code>dpi</code>の変更を検知して自動で切り替わるようにします。</p>
<h2 id="まず前置き"><a class="header" href="#まず前置き">まず前置き</a></h2>
<p>さて、これまでにも何度か出てきていた<code>wezterm.on</code>ですが、以下のような説明がありました。</p>
<pre><code class="language-admonish note title=&quot;[wezterm.on(event_name  callback)](https://wezfurlong.org/wezterm/config/lua/wezterm/on.html)&quot;">wezterm.on can register multiple callbacks for the same event; internally an ordered list of callbacks is maintained for each event.
When the event is emitted, each of the registered callbacks is called in the order that they were registered.

wezterm.on は、同じイベントに対して複数のコールバックを登録することができます; 内部的には、各イベントに対してコールバックの順序付きリストが維持されます。
イベントが発信されると、登録された各コールバックは、登録された順に呼び出されます。
</code></pre>
<p>これを踏まえた上で、<code>update-status</code>をもう一個作ります。<sup class="footnote-reference"><a href="#a">1</a></sup></p>
<pre><code class="language-admonish note title=&quot;[update-status](https://wezfurlong.org/wezterm/config/lua/window-events/update-status.html)&quot;">There is no defined return value for the event, but its purpose is to allow you the chance to carry out some activity and then ultimately call window:set_right_status or window:set_left_status.

このイベントの戻り値は定義されていませんが、その目的は、何らかの活動を行い、最終的に window:set_right_status または window:set_left_status を呼び出す機会を提供することです。
</code></pre>
<p>説明にもある通り、「最終的に<code>window:set_right_status</code>または<code>window:set_left_status</code>を呼び出す目的」のものであるため、
なんかコレじゃないとは思っていますが、他に方法が見つけられませんでした😢</p>
<pre><code class="language-admonish info">今後の仕様追加・変更によって、より自然に実現できるかもしれませんね。
</code></pre>
<h2 id="では実装"><a class="header" href="#では実装">では実装</a></h2>
<p><code>event.lua</code>に追記していきます。</p>
<pre><code class="language-admonish example title=&quot;event.lua&quot;">```lua
local DPI_CHANGE_NUM = 140
local DPI_CHANGE_FONT_SIZE = 10.0

local prev_dpi = 0

wezterm.on('trigger-dpi', function(window, dpi)
  local overrides = window:get_config_overrides() or {}
  overrides.font_size = dpi &gt;= DPI_CHANGE_NUM and DPI_CHANGE_FONT_SIZE or nil

  window:set_config_overrides(overrides)
end)

wezterm.on('update-status', function(window, pane)
  local dpi = window:get_dimensions().dpi

  if dpi == prev_dpi then
    return
  end

  wezterm.emit('trigger-dpi', window, dpi)

  prev_dpi = dpi
end)
```
</code></pre>
<p><code>dpi</code>と<code>font_size</code>周辺の値はわたしの環境にあわせてぼや〜っと決め打ちにしてるので適宜調整してください。</p>
<p>動作としては、<code>dpi</code>に変更があったらカスタムイベントの<code>trigger-dpi</code>を呼んでフォントサイズを切り替えます。
<code>trigger-dpi</code>自体は手動でフォントサイズを切り替える処理とほぼ同じですね。</p>
<pre><code class="language-admonish info">理由はちょっとよくわからなかったのですが、

カスタムイベントに渡した`window`に対しての`get_config_overrides().dpi`が上手くいかなかったので、
`wezterm.emit('trigger-dpi', window, dpi)`として`dpi`も渡しています。これであれば動くみたいです。
</code></pre>
<pre><code class="language-admonish success">なんか、すごい簡単でしたね😆

既に用意されているロジックをつなぐだけ☺️
</code></pre>
<div class="footnote-definition" id="a"><sup class="footnote-definition-label">1</sup>
<p>ステータスバーの飾り付けの際にも使用しましたね。</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
